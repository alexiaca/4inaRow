/*
* grrd's 4 in a Row
* Copyright (c) 2012 Gerard Tyedmers, grrd@gmx.net
* Licensed under the MPL License
*/
!function(){"use strict";function a(a,b,c,d){I[b].beginPath(),I[b].arc(aa/2,a,aa/2*.85,0,2*Math.PI,!1),I[b].fillStyle=c,I[b].fill(),I[b].lineWidth=aa/20,I[b].strokeStyle=d,I[b].stroke()}function b(){var b,c,d=$(window).height(),e=$(window).width();d>e?(aa=Math.min((e-50)/7,(d-140)/6),ba=Math.max(6*aa*.85,d-190),Fa.attr("style","width:100%;"),$(".li_port").attr("style","height:"+($(window).height()-$(window).width()/3-130)/7+"px;"),$(".li_padd").attr("style","padding-top:"+($(window).height()-$(window).width()/3-270)/14+"px;"),$("#page_landscape").attr("style","display:none;"),$("#page_portrait").attr("style","display:inline;"),$("#indicator_landscape_l").attr("style","display:none;"),$("#indicator_landscape_r").attr("style","display:none;"),$("#indicator_portrait").attr("style","display:block;"),$("#popupDialog_landscape").attr("style","display:none;"),$("#popupDialog_portrait").attr("style","display:block;"),$("#popupSettings_portrait").attr("style","display:block;"),$("#popupSettings_landscape").attr("style","display:none;"),$("#popupSettings_col_b").appendTo("#popupSettings_portrait"),$("#printMessage").attr("style","display:block;")):(aa=Math.min((e-140-40)/7,(d-20)/6),ba=Math.max(6*aa*.85,d-95),Fa.attr("style","width:"+.6*$(window).width()+"px;"),$("#blankspace").attr("style","height:"+($(window).height()/4-$(window).width()/20)+"px;"),$("#page_landscape").attr("style","display:inline;"),$("#page_portrait").attr("style","display:none;"),$("#indicator_landscape_l").attr("style","display:inline;"),$("#indicator_landscape_r").attr("style","display:inline;"),$("#indicator_portrait").attr("style","display:none;"),$("#popupDialog_landscape").attr("style","display:block;"),$("#popupDialog_portrait").attr("style","display:none;"),$("#popupSettings_portrait").attr("style","display:none;"),$("#popupSettings_landscape").attr("style","display:block;"),$("#popupSettings_col_b").appendTo("#popupSettings_landscape_b"),$("#printMessage").attr("style","display:inline;"));var f=Math.max((d-e/3)/7,0);for($(".a_land").attr("style","width:"+(e/5-8)+"px;padding-bottom:"+f/2+"px;"),$(".img_land").attr("style","padding-top:"+f+"px;padding-bottom:"+f/2+"px;width: 100%;min-width: 40px;max-width: 108px;"),b=0;b<G.length;b+=1)document.getElementById(G[b]).width=aa,document.getElementById(G[b]).height=ba;for(c=0;c<J[0].length&&void 0!==I[c];c+=1)for(b=0;b<J.length;b+=1)I[c].beginPath(),I[c].arc(aa/2,(J.length-b-.5)*aa*.85,aa/2*.7,0,2*Math.PI,!1),I[c].lineWidth=aa/10,I[c].strokeStyle="#212121",I[c].stroke(),I[c].beginPath(),I[c].arc(aa/2,(J.length-b-.5)*aa*.85,aa/2*.7,1.8*Math.PI,.8*Math.PI,!1),I[c].lineWidth=H[c].width/10,I[c].strokeStyle="grey",I[c].stroke();for(c=0;c<J[0].length&&void 0!==I[c];c+=1){for(I[c].save(),I[c].beginPath(),b=0;b<J.length;b+=1)I[c].arc(aa/2,(J.length-b-.5)*aa*.85,aa/2*.7,0,2*Math.PI,!1);I[c].clip(),I[c].clearRect(0,0,aa,ba)}for(b=0;b<J.length;b+=1)for(c=0;c<J[b].length;c+=1)void 0!==J[b][c]&&a((J.length-b-.5)*aa*.85,c,Ja[J[b][c]],Ka[J[b][c]]);F&&(_=_/Z*(J.length-T-.5)*aa*.85,Z=(J.length-T-.5)*aa*.85)}function c(){var a,c;for(Ua=0,Ta=null,a=0;a<J.length;a+=1)for(c=0;c<J[a].length;c+=1)J[a][c]=void 0,0===a&&I[c].clearRect(0,0,aa,ba);b()}function d(){$("#P1light").attr("src",Na[Ma]),$("#P2light").attr("src",Oa[1-Ma]),$("#P1light2").attr("src",Na[Ma]),$("#P2light2").attr("src",Oa[1-Ma])}function e(a){var b,c,d;za&&a&&(b=za+"_"+a,c=parseInt(localStorage.getItem(b)||0)+1,localStorage.setItem(b,c)),ha=localStorage.getItem("easy_start")||0,ia=localStorage.getItem("easy_win")||0,ja=localStorage.getItem("easy_loose")||0,ka=localStorage.getItem("easy_draw")||0,la=localStorage.getItem("medium_start")||0,ma=localStorage.getItem("medium_win")||0,na=localStorage.getItem("medium_loose")||0,oa=localStorage.getItem("medium_draw")||0,pa=localStorage.getItem("hard_start")||0,qa=localStorage.getItem("hard_win")||0,ra=localStorage.getItem("hard_loose")||0,sa=localStorage.getItem("hard_draw")||0,ca=localStorage.getItem("online_Start")||0,da=localStorage.getItem("online_win")||0,ea=localStorage.getItem("online_loose")||0,fa=localStorage.getItem("online_draw")||0,ga=localStorage.getItem("online_left")||0,d=Math.max(ia,ja,ma,na,qa,ra,da,ea,1),document.getElementById("easy_win").innerHTML=navigator.mozL10n.get("lbwon")+" "+ia,document.getElementById("easy_loose").innerHTML=navigator.mozL10n.get("lblost")+" "+ja,document.getElementById("medium_win").innerHTML=navigator.mozL10n.get("lbwon")+" "+ma,document.getElementById("medium_loose").innerHTML=navigator.mozL10n.get("lblost")+" "+na,document.getElementById("hard_win").innerHTML=navigator.mozL10n.get("lbwon")+" "+qa,document.getElementById("hard_loose").innerHTML=navigator.mozL10n.get("lblost")+" "+ra,document.getElementById("online_win").innerHTML=navigator.mozL10n.get("lbwon")+" "+da,document.getElementById("online_loose").innerHTML=navigator.mozL10n.get("lblost")+" "+ea,document.getElementById("easy_win").style.width=100/d*ia+"%",document.getElementById("easy_loose").style.width=100/d*ja+"%",document.getElementById("medium_win").style.width=100/d*ma+"%",document.getElementById("medium_loose").style.width=100/d*na+"%",document.getElementById("hard_win").style.width=100/d*qa+"%",document.getElementById("hard_loose").style.width=100/d*ra+"%",document.getElementById("online_win").style.width=100/d*da+"%",document.getElementById("online_loose").style.width=100/d*ea+"%"}function f(){localStorage.removeItem("easy_start"),localStorage.removeItem("easy_win"),localStorage.removeItem("easy_loose"),localStorage.removeItem("easy_draw"),localStorage.removeItem("medium_start"),localStorage.removeItem("medium_win"),localStorage.removeItem("medium_loose"),localStorage.removeItem("medium_draw"),localStorage.removeItem("hard_start"),localStorage.removeItem("hard_win"),localStorage.removeItem("hard_loose"),localStorage.removeItem("hard_draw"),localStorage.removeItem("online_Start"),localStorage.removeItem("online_win"),localStorage.removeItem("online_loose"),localStorage.removeItem("online_draw"),localStorage.removeItem("online_left"),e()}function g(){za="2player",Ba?($("#P1icon").attr("src",Da.attr("src")),$("#P1icon2").attr("src",Da.attr("src"))):($("#P1icon").attr("src","Images/player.png"),$("#P1icon2").attr("src","Images/player.png")),P=Ca?Ea.val():navigator.mozL10n.get("lbplayer1"),Q=navigator.mozL10n.get("lbplayer2"),$("#P1name").html(P),$("#P1name2").html(P),$("#P2name").html(Q),$("#P2name2").html(Q),$("#P2icon").attr("src","Images/player.png"),$("#P2icon2").attr("src","Images/player.png"),d(),Va=!1,$.mobile.changePage("#game",{transition:"slide"})}function h(a,b){Va||(b+2e3>(new Date).getTime()&&F?window.requestAnimFrame(function(){h(a,b)}):(Pa+=1,$("#printMessage").html(a),1===Pa?$("#printSpiele").html(Pa+" "+navigator.mozL10n.get("lbgame")):$("#printSpiele").html(Pa+" "+navigator.mozL10n.get("lbgames")),$("#printScore1a").html(P),$("#printScore2a").html(Q),$("#printScore1b").html(Qa[0]),$("#printScore2b").html(Qa[1]),$.mobile.changePage("#popupDialog",{transition:"pop",role:"dialog"}),c(),Ma=Pa%2!==0?1:0,d(),F=!1))}function i(b,c,d,e){var f;if(!Va)if(6>d&&e+250<(new Date).getTime()&&F){for(d+=1,e=(new Date).getTime(),f=0;4>f;f+=1)d%2!==0?a((J.length-b[f]-.5)*aa*.85,c[f],La[Ma],"white"):a((J.length-b[f]-.5)*aa*.85,c[f],Ja[Ma],"white");window.requestAnimFrame(function(){i(b,c,d,e)})}else 6>d&&F&&window.requestAnimFrame(function(){i(b,c,d,e)})}function j(){F=!0;var a=xa.slice(),b=ya.slice();i(a,b,0,(new Date).getTime())}function k(a,b,c,d,e,f){var g;if(a+3*c<J.length&&b+3*d<J[a].length&&a+3*c>=0&&b+3*d>=0)for(g=0;4>g;g+=1)J[a+g*c][b+g*d]===e?(xa[g]=a+g*c,ya[g]=b+g*d,3===g&&(W=!0,f&&j(),g=5)):g=5}function l(a,b){for(W=!1,T=0;T<J.length;T+=1)for(S=0;S<J[T].length;S+=1)k(T,S,1,0,a,b),k(T,S,0,1,a,b),k(T,S,1,1,a,b),k(T,S,1,-1,a,b);for(X=!1,S=0;S<J[0].length;S+=1)void 0===J[J.length-1][S]&&(X=!0)}function m(b,c,f){var g,i,j,k;F&&(g=new Date,i=g.getTime(),j=i-b,k=ba*j/1e3,Z>c?(c=Math.min(Z,c+k),b=i,I[f].clearRect(0,0,aa,Z+aa/2*.85),a(c,f,Ja[Ma],Ka[Ma]),window.requestAnimFrame(function(){m(b,c,f)})):(Aa&&document.getElementById("click_sound").play(),F=!1,l(Ma,!0),W?(Qa[Ma]=Qa[Ma]+1,("easy"===za||"medium"===za||"hard"===za)&&e(0===Ma?"win":"loose"),"online"===za&&e(0===Ma&&"0"===ua.role||1===Ma&&"1"===ua.role?"win":"loose"),Aa&&document.getElementById("ding_sound").play(),0===Ma?h(P+" "+navigator.mozL10n.get("lbwin"),(new Date).getTime()):h(Q+" "+navigator.mozL10n.get("lbwin"),(new Date).getTime())):X?(Ma=1-Ma,d(),"2player"!==za&&"online"!==za&&1===Ma&&y()):(e("draw"),h(navigator.mozL10n.get("lbdraw"),(new Date).getTime()))))}function n(a){var b,c;if(!(Wa&&(Wa=!1,"online"===za&&(0===Ma&&"0"===ua.role||1===Ma&&"1"===ua.role))||F))for(Ua+=1,T=0,Z=0;T<J.length&&0===Z;){if(void 0===J[T][a]){F=!0,J[T][a]=Ma,Z=(J.length-T-.5)*aa*.85,b=new Date,c=b.getTime(),_=-30,m(c,_,a);break}T+=1}}function o(){$.mobile.changePage("#popupOnline",{transition:"pop",role:"dialog"}),$("#btonline").addClass("ui-disabled"),$("#btonline2").addClass("ui-disabled"),Sa?ta.socket.reconnect():(ta=io.connect("http://grrds4inarow.nodejitsu.com:80"),Sa=!0),ta.on("connect",function(){}),ta.on("startgame",function(a){ua=a,ua.id!==va&&(O=Ba?Da.attr("src"):null,ta.emit("usersend",{to:ua.opponent,name:Ea.val(),pic:O,country:0,points:0,rank:0}),va=ua.id,Va=!1,null!==za&&$.mobile.changePage("#title",{transition:"slide",reverse:!0}),F=!1,c(),Pa=0,Ma=0,Qa=[0,0],d(),za="online","0"===ua.role?(Ba?($("#P1icon").attr("src",Da.attr("src")),$("#P1icon2").attr("src",Da.attr("src"))):($("#P1icon").attr("src","Images/player.png"),$("#P1icon2").attr("src","Images/player.png")),P=Ca?Ea.val():navigator.mozL10n.get("lbplayer1"),$("#P2icon").attr("src","Images/online.png"),$("#P2icon2").attr("src","Images/online.png"),Q=navigator.mozL10n.get("btonline")):($("#P1icon").attr("src","Images/online.png"),$("#P1icon2").attr("src","Images/online.png"),P=navigator.mozL10n.get("btonline"),Ba?($("#P2icon").attr("src",Da.attr("src")),$("#P2icon2").attr("src",Da.attr("src"))):($("#P2icon").attr("src","Images/player.png"),$("#P2icon2").attr("src","Images/player.png")),Q=Ca?Ea.val():navigator.mozL10n.get("lbplayer1")),$("#P1name").html(P),$("#P1name2").html(P),$("#P2name").html(Q),$("#P2name2").html(Q),$.mobile.changePage("#game",{transition:"slide"}))}),ta.on("playget",function(a){Ua===a.round&&Ta!==a.round&&(Ta=a.round,Wa=!0,n(a.col))}),ta.on("userget",function(a){"0"===ua.role?(null!==a.pic&&($("#P2icon").attr("src",a.pic),$("#P2icon2").attr("src",a.pic)),a.name.length>0&&(Q=a.name,$("#P2name").html(Q),$("#P2name2").html(Q))):(null!==a.pic&&($("#P1icon").attr("src",a.pic),$("#P1icon2").attr("src",a.pic)),a.name.length>0&&(P=a.name,$("#P1name").html(P),$("#P1name2").html(P)))}),ta.on("quit",function(){ua.id!==wa&&(wa=ua.id,Va=!0,$.mobile.changePage("#popupLeft",{transition:"pop",role:"dialog"}))})}function p(){Ba?($("#P1icon").attr("src",Da.attr("src")),$("#P1icon2").attr("src",Da.attr("src"))):($("#P1icon").attr("src","Images/player.png"),$("#P1icon2").attr("src","Images/player.png")),P=Ca?Ea.val():navigator.mozL10n.get("lbplayer"),Q=navigator.mozL10n.get("lbcomputer"),$("#P1name").html(P),$("#P1name2").html(P),$("#P2name").html(Q),$("#P2name2").html(Q),$("#P2icon").attr("src","Images/computer.png"),$("#P2icon2").attr("src","Images/computer.png"),d(),Va=!1,$.mobile.changePage("#game",{transition:"slide"})}function q(){za="easy",p()}function r(){za="medium",p()}function s(){za="hard",p()}function t(){"online"===za&&(ta.disconnect(),$("#btonline").removeClass("ui-disabled"),$("#btonline2").removeClass("ui-disabled")),Va=!0,b(),$.mobile.changePage("#title",{transition:"slide",reverse:!0}),F=!1,c(),Pa=0,Ma=0,Qa=[0,0],za=null}function u(){Aa="on"===Ga.val(),localStorage.setItem("s_sound",Ga.val()),b(),$.mobile.changePage("#title",{transition:"pop",reverse:!0})}function v(a){"online"===za?1===Ma&&"0"===ua.role||0===Ma&&"1"===ua.role||(ta.emit("playsend",{to:ua.opponent,col:a,round:Ua}),n(a)):n(a)}function w(a,b,c){var d,e;for(K=0,L=0,M=0,d=c-3;c>=d;d+=1)if(d>=0&&d+3<J[0].length){for(Ra=!0,N=0,e=0;3>=e;e+=1)void 0!==J[b][d+e]&&(J[b][d+e]===a?N+=1:Ra=!1);Ra&&(K+=1,L+=N,N>M&&(M=N))}for(d=b+3;d>=b;d-=1)if(d-3>=0&&d<J.length){for(Ra=!0,N=0,e=0;3>=e;e+=1)void 0!==J[d-e][c]&&(J[d-e][c]===a?N+=1:Ra=!1);Ra&&(K+=1,L+=N,N>M&&(M=N))}for(d=3;d>=0;d-=1)if(c-d>=0&&c-d+3<J[0].length&&b-d>=0&&b-d+3<J.length){for(Ra=!0,N=0,e=0;3>=e;e+=1)void 0!==J[b-d+e][c-d+e]&&(J[b-d+e][c-d+e]===a?N+=1:Ra=!1);Ra&&(K+=1,L+=N,N>M&&(M=N))}for(d=3;d>=0;d-=1)if(c-d>=0&&c-d+3<J[0].length&&b+d<J.length&&b+d-3>=0){for(Ra=!0,N=0,e=0;3>=e;e+=1)void 0!==J[b+d-e][c-d+e]&&(J[b+d-e][c-d+e]===a?N+=1:Ra=!1);Ra&&(K+=1,L+=N,N>M&&(M=N))}}function x(a,b){return a-b}function y(){var a;for(Ha=[],Y=!1,U=0;U<J[0].length;U+=1)for(Ha[U]=0,V=0;V<J.length;V+=1)if(void 0===J[V][U]){J[V][U]=Ma,w(Ma,V,U),Ha[U]=1e4*M+100*K+L+2,J[V][U]=void 0;break}for(Ia[0]=0,a=0;a<Ha.length;a+=1)Ha[a]>Ia[0]&&(Ia[0]=Ha[a]);for(Ma=1-Ma,U=0;U<J[0].length;U+=1)for(V=0;V<J.length;V+=1)if(void 0===J[V][U]){J[V][U]=Ma,w(Ma,V,U),1e4*M+100*K+L+2>Ia[0]&&(Ha[U]=1e4*M+100*K+L+2),J[V][U]=void 0;break}for(Ma=1-Ma,Ma=1-Ma,U=0;U<J[0].length;U+=1){for(V=0;V<J.length-1;V+=1)if(void 0===J[V][U]){J[V+1][U]=Ma,l(Ma,Y),J[V+1][U]=void 0;break}W&&(Ha[U]=1,W=!1)}for(Ma=1-Ma,Ma=1-Ma,U=0;U<J[0].length;U+=1){for(V=0;V<J.length;V+=1)if(void 0===J[V][U]){J[V][U]=Ma,l(Ma,Y),J[V][U]=void 0;break}W&&(Ha[U]=5e4,W=!1)}for(Ma=1-Ma,U=0;U<J[0].length;U+=1){for(V=0;V<J.length;V+=1)if(void 0===J[V][U]){J[V][U]=Ma,l(Ma,Y),J[V][U]=void 0;break}W&&(Ha[U]=6e4,W=!1)}if(Ia=Ha.slice(),Ia.sort(x),Ia.reverse(),S=Math.round(6*Math.random()),"hard"===za)for(;Ha[S]!==Ia[0];)S=Math.round(6*Math.random());if("medium"===za)for(;Ha[S]<Ia[1]||0===Ha[S];)S=Math.round(6*Math.random());if("easy"===za)for(;Ha[S]<Ia[2]||0===Ha[S];)S=Math.round(6*Math.random());n(S)}function z(){$.mobile.changePage("#game",{transition:"pop",reverse:!0}),"2player"!==za&&"online"!==za&&1===Ma&&y()}function A(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null!==d?d[1]:!1}function B(a){var b,c=new FileReader,d=document.createElement("canvas"),e=null,f=new Image,g=67,h=71;d.id="hiddenCanvas",d.width=g,d.height=h,d.style.visibility="hidden",document.body.appendChild(d),e=d.getContext("2d"),a.target.files[0].type.match("image.*")?c.readAsDataURL(a.target.files[0]):alert("File is not an image"),c.onload=function(){var a=this.result;b=EXIF.readFromBinaryFile(new BinaryFile(atob(a.split(",")[1]))),f.src=a},f.onload=function(){var a=0,c=0;0===this.width||0===this.height?alert("Image is empty"):((5===b.Orientation||6===b.Orientation)&&(e.rotate(90*Math.PI/180),c=-1*g,g=71,h=67),(3===b.Orientation||4===b.Orientation)&&(e.rotate(180*Math.PI/180),c=-1*g-4,a=-1*h+4),(7===b.Orientation||8===b.Orientation)&&(e.rotate(270*Math.PI/180),a=-1*h,g=71,h=67),e.clearRect(0,0,g,h),e.drawImage(f,0,0,this.width,this.height,a,c,g,h),Da.attr("src",d.toDataURL("image/jpeg")),$("#inputImage_l").attr("src",d.toDataURL("image/jpeg")),localStorage.setItem("s_image",d.toDataURL("image/jpeg")),Ba=!0)}}function C(a){""!==a.replace(/\s+/g,"")?(localStorage.setItem("s_name",a),Ca=!0):(localStorage.removeItem("s_name"),Ca=!1)}function D(){$("#b_imageinput").click()}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var E,F=!1,G=["spalte0","spalte1","spalte2","spalte3","spalte4","spalte5","spalte6"],H=[],I=[],J=[];for(E=0;6>E;E+=1)J[E]=[],J[E][6]=void 0;var K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa=[],ya=[],za=null,Aa=!0,Ba=!1,Ca=!1,Da=$("#inputImage"),Ea=$("#inputName"),Fa=$("#img_title"),Ga=$("#b_sound"),Ha=[],Ia=[],Ja=["#ff0080","#6969EE"],Ka=["#D6016B","#5A5ACE"],La=["#FD6BB4","#9393EF"],Ma=0,Na=["Images/lightredon.png","Images/lightredoff.png"],Oa=["Images/lightblueon.png","Images/lightblueoff.png"],Pa=0,Qa=[0,0],Ra=Boolean(!1),Sa=!1,Ta=null,Ua=0,Va=!1,Wa=!1;window.onload=function(){var a;for(null===localStorage.getItem("s_sound")?Ga.val("on"):Ga.val(localStorage.getItem("s_sound")),Aa="on"===Ga.val(),null!==localStorage.getItem("s_image")&&(Da.attr("src",localStorage.getItem("s_image")),$("#inputImage_l").attr("src",localStorage.getItem("s_image")),Ba=!0),null!==localStorage.getItem("s_name")&&(Ea.val(localStorage.getItem("s_name")),""!==localStorage.getItem("s_name").replace(/\s+/g,"")&&(Ca=!0)),R=A("theme"),R&&"mi"===R&&(Fa.attr("src","Images/title1_mi.png"),$("#popupDialog_t1").attr("src","Images/title1_mi.png"),$("#popupDialog_t2").attr("src","Images/title2_mi.png"),$("#popupInfo_t1").attr("src","Images/title1_mi.png"),$("#popupInfo_t2").attr("src","Images/title2_mi.png"),$("#popupSettings_t1").attr("src","Images/title1_mi.png"),$("#popupSettings_t2").attr("src","Images/title2_mi.png")),$('[id^= "btplay"]').click(function(a){g(),a.preventDefault()}),$('[id^= "btonline"]').click(function(a){o(),a.preventDefault()}),$('[id^= "bteasy"]').click(function(a){q(),a.preventDefault()}),$('[id^= "btmed"]').click(function(a){r(),a.preventDefault()}),$('[id^= "bthard"]').click(function(a){s(),a.preventDefault()}),$(".back").click(function(a){t(),a.preventDefault()}),$(".again").click(function(a){z(),a.preventDefault()}),$(".btimg").click(function(a){D(),a.preventDefault()}),$(".btclose").click(function(a){u(),a.preventDefault()}),$("#btreset").click(function(a){f(),a.preventDefault()}),$("#inputName").change(function(){C(this.value)}),a=0;a<G.length;a+=1)H[a]=document.getElementById(G[a]),I[a]=H[a].getContext("2d");document.getElementById("spalte0").addEventListener("click",function(){v(0)}),document.getElementById("spalte1").addEventListener("click",function(){v(1)}),document.getElementById("spalte2").addEventListener("click",function(){v(2)}),document.getElementById("spalte3").addEventListener("click",function(){v(3)}),document.getElementById("spalte4").addEventListener("click",function(){v(4)}),document.getElementById("spalte5").addEventListener("click",function(){v(5)}),document.getElementById("spalte6").addEventListener("click",function(){v(6)}),jQuery.preLoadImages(["Images/lightredon.png","Images/lightredoff.png","Images/lightblueon.png","Images/lightblueoff.png","Images/title2eng.png"]),document.getElementById("b_imageinput").addEventListener("change",B,!1),$("#popupSettings_col_b").find("label").attr("style","display:inline;"),b(),Fa.delay(1500),Fa.fadeOut(1e3),Fa.queue(function(){R=A("theme"),R&&"mi"===R?Fa.attr("src","Images/title2_mi.png"):Fa.attr("src","Images/title2eng.png"),$(this).fadeIn(1e3),$(this).dequeue()})},$(window).resize(function(){b()}),function(a){var b,c,d=[];a.preLoadImages=function(a){var e=a.length-1;for(c=e;c>=0;c-=1)b=document.createElement("img"),b.src=a[c],d.push(b)}}(jQuery),navigator.mozL10n.ready(function(){R=A("lang"),R&&R!==navigator.mozL10n.language.code&&(navigator.mozL10n.language.code=R),e()})}();